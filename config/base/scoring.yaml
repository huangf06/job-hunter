# =============================================================================
# 评分策略配置 v2.0
# =============================================================================
# 评分系统：基础分 3.0，通过关键词匹配加减分
# 分类上限防止单一类别过度影响总分
# =============================================================================

# =============================================================================
# 基础评分配置
# =============================================================================

base_score:
  # 基础分 (降低到3.0，需要通过匹配关键词来提高)
  starting_score: 3.0

  # 分数范围
  min_score: 0.0
  max_score: 10.0

# =============================================================================
# 评分阈值配置
# =============================================================================

thresholds:
  # APPLY_NOW: 自动生成简历
  apply_now: 7.0

  # APPLY: 生成简历，需要review
  apply: 5.5

  # MAYBE: 值得看看
  maybe: 4.0

  # < 4.0: SKIP
  # NOTE: AI recommendation thresholds (different) are in config/ai_config.yaml

# =============================================================================
# 标题关键词权重 (匹配标题时权重更高)
# =============================================================================

title_scoring:
  # 核心ML/AI角色
  core_ml_ai:
    keywords:
      - "machine learning"
      - "ml engineer"
      - "ai engineer"
      - "artificial intelligence"
      - "deep learning"
      - "data scientist"
    weight: 2.5

  # 数据工程
  data_engineering:
    keywords:
      - "data engineer"
      - "data platform"
      - "analytics engineer"
    weight: 2.0

  # 量化
  quant:
    keywords:
      - "quantitative"
      - "quant"
    weight: 2.5

  # 负面标题关键词
  negative_title:
    senior:
      keywords: ["senior"]
      weight: -0.5
    lead_staff:
      keywords: ["lead", "staff"]
      weight: -1.5

# =============================================================================
# 正文关键词权重 (按分类，有上限)
# =============================================================================

body_scoring:
  # Python
  python:
    keywords: ["python"]
    weight: 1.0
    max_total: 1.0

  # ML框架
  ml_frameworks:
    keywords:
      - "pytorch"
      - "tensorflow"
      - "scikit-learn"
      - "xgboost"
      - "lightgbm"
    weight: 1.0
    max_total: 2.0

  # 数据工具
  data_tools:
    keywords:
      - "spark"
      - "pyspark"
      - "databricks"
      - "airflow"
      - "kafka"
      - "delta lake"
    weight: 1.0
    max_total: 2.0

  # Cloud/MLOps
  cloud_mlops:
    keywords:
      - "aws"
      - "gcp"
      - "docker"
      - "kubernetes"
      - "mlops"
    weight: 0.5
    max_total: 1.5

  # NLP/LLM
  nlp_llm:
    keywords:
      - "nlp"
      - "llm"
      - "transformers"
      - "gpt"
      - "generative ai"
    weight: 1.0
    max_total: 1.0

  # SQL
  sql:
    keywords: ["sql"]
    weight: 0.5
    max_total: 0.5

  # 初级友好
  junior_friendly:
    keywords:
      - "junior"
      - "entry level"
      - "0-3 years"
      - "graduate"
    weight: 1.5
    max_total: 1.5

  # Visa赞助
  visa_sponsorship:
    keywords:
      - "visa sponsor"
      - "relocation"
      - "kmv"
      - "highly skilled migrant"
    weight: 2.0
    max_total: 2.0

  # Short JD penalty: penalize very short descriptions
  short_jd:
    threshold: 100  # chars — JDs shorter than this get penalized
    penalty: -2.0

  # 负面: 高经验要求
  # NOTE: Uses inline keyword keys (not 'keywords' list). Each key is matched literally.
  high_experience:
    "5+ years":
      weight: -0.5
    "6+ years":
      weight: -1.0
    "7+ years":
      weight: -1.0
    max_total: -1.0

  # PhD要求
  phd_required:
    keywords:
      - "phd required"
      - "phd preferred"
    weight: -1.0
    max_total: -1.0

# =============================================================================
# 非核心技术惩罚
# =============================================================================

non_core_tech_penalty:
  # 当正文有 >= threshold 个非核心技术关键词且 < min_core 个核心关键词时扣分
  threshold: 3
  min_core_keywords: 2
  penalty: -2.0
  non_core_keywords:
    - "react"
    - "angular"
    - "vue"
    - "typescript"
    - "node.js"
    - "spring boot"
    - ".net"
    - "c#"
    - "ruby"
    - "swift"
    - "kotlin"
  core_keywords:
    - "python"
    - "machine learning"
    - "data"
    - "ml"
    - "ai"
    - "pytorch"
    - "tensorflow"
    - "sql"
    - "spark"
    - "quant"

# =============================================================================
# 目标公司配置 (分层加分)
# =============================================================================

target_companies:
  # Tier 1: 最优先
  tier_1:
    - "picnic"
    - "adyen"
    - "booking.com"
    - "optiver"
    - "imc"
    - "flow traders"
    - "deepdesk"

  # Tier 2: 优先
  tier_2:
    - "ing"
    - "abn amro"
    - "rabobank"
    - "asml"
    - "philips"

  # Tier 3: 关注
  tier_3:
    - "tomtom"
    - "coolblue"
    - "bol.com"
    - "shell"
    - "kpn"

  # 目标公司加分
  bonus_scores:
    tier_1: 2.0
    tier_2: 1.5
    tier_3: 1.0

# =============================================================================
# 配置元数据
# =============================================================================

metadata:
  version: "2.0.1"
  last_updated: "2026-02-08"
  author: "Fei Huang"
  description: "Job scoring configuration - improved with title-based scoring, category caps, and non-core tech penalty"
